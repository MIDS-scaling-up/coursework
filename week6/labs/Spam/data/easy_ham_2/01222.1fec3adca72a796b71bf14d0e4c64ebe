From rpm-list-admin@freshrpms.net  Wed Aug 14 11:00:05 2002
Return-Path: <rpm-zzzlist-admin@freshrpms.net>
Delivered-To: yyyy@localhost.netnoteinc.com
Received: from localhost (localhost [127.0.0.1])
	by phobos.labs.netnoteinc.com (Postfix) with ESMTP id 7CBCC440FC
	for <jm@localhost>; Wed, 14 Aug 2002 05:51:54 -0400 (EDT)
Received: from phobos [127.0.0.1]
	by localhost with IMAP (fetchmail-5.9.0)
	for jm@localhost (single-drop); Wed, 14 Aug 2002 10:51:54 +0100 (IST)
Received: from egwn.net (ns2.egwn.net [193.172.5.4]) by
    dogma.slashnull.org (8.11.6/8.11.6) with ESMTP id g7E8Fe406571 for
    <jm-rpm@jmason.org>; Wed, 14 Aug 2002 09:15:40 +0100
Received: from auth02.nl.egwn.net (localhost [127.0.0.1]) by egwn.net
    (8.11.6/8.11.6/EGWN) with ESMTP id g7E8D2J25576; Wed, 14 Aug 2002 10:13:02
    +0200
Received: from gateway.gestalt.entity.net
    (host217-39-152-198.in-addr.btopenworld.com [217.39.152.198]) by egwn.net
    (8.11.6/8.11.6/EGWN) with ESMTP id g7E8BiJ25374 for
    <rpm-list@freshrpms.net>; Wed, 14 Aug 2002 10:11:44 +0200
Received: from turner.gestalt.entity.net (turner.gestalt.entity.net
    [192.168.0.253]) by gateway.gestalt.entity.net (8.11.6/8.11.2) with ESMTP
    id g7E8GHM07292 for <rpm-list@freshrpms.net>; Wed, 14 Aug 2002 09:16:17
    +0100
Subject: Re: Problem with my spec file
From: Dave Cridland <dave@cridland.net>
To: rpm-zzzlist@freshrpms.net
In-Reply-To: <001201c2435a$2e4051c0$6501a8c0@viper>
References: <001201c2435a$2e4051c0$6501a8c0@viper>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
X-Mailer: Ximian Evolution 1.0.8 (1.0.8-5)
Message-Id: <1029312977.16565.77.camel@turner.gestalt.entity.net>
MIME-Version: 1.0
X-Mailscanner: Found to be clean, Found to be clean
Sender: rpm-zzzlist-admin@freshrpms.net
Errors-To: rpm-zzzlist-admin@freshrpms.net
X-Beenthere: rpm-zzzlist@freshrpms.net
X-Mailman-Version: 2.0.11
Precedence: bulk
Reply-To: rpm-zzzlist@freshrpms.net
List-Help: <mailto:rpm-zzzlist-request@freshrpms.net?subject=help>
List-Post: <mailto:rpm-zzzlist@freshrpms.net>
List-Subscribe: <http://lists.freshrpms.net/mailman/listinfo/rpm-zzzlist>,
    <mailto:rpm-list-request@freshrpms.net?subject=subscribe>
List-Id: Freshrpms RPM discussion list <rpm-zzzlist.freshrpms.net>
List-Unsubscribe: <http://lists.freshrpms.net/mailman/listinfo/rpm-zzzlist>,
    <mailto:rpm-list-request@freshrpms.net?subject=unsubscribe>
List-Archive: <http://lists.freshrpms.net/pipermail/rpm-zzzlist/>
X-Original-Date: 14 Aug 2002 09:16:17 +0100
Date: 14 Aug 2002 09:16:17 +0100

On Wed, 2002-08-14 at 07:16, Victor wrote:
> Can someone tell me what I am doing wrong? it's like make doesn't take the
> PREFIX override... It's crazy. I don't get it...
> OS: TurboLinux6 rmp3.0.6 make 3.79.1

I'm decoding this to mean:

"This spec file installs in the system, rather than in the build root,
even though I am passing the relevant overrides to make. It is as if the
Makefile does not allow overrides, or does not have those variables."

I note that:

1) It's one of those Makefile.PL things.
2) While I know that Makefiles generated by a ./configure generated in
turn by a later version of auto* do support the technique you're trying,
I know nothing about what the Perl MakeMaker (or whatever it is)
supports.

The general solution for cases like this is to install manually (Try
make -n and see what it does). I think that Perl's installer system
might support an installation root, though I've blissfully no idea how
to operate it.

I suggest finding a small Perl module SRPM and looking at the spec file
to see how RedHat (or Turbo, or PLD, although RedHat generally know
*all* the tricks) do it.

Dave.


_______________________________________________
RPM-List mailing list <RPM-List@freshrpms.net>
http://lists.freshrpms.net/mailman/listinfo/rpm-list


